<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using Trelliscope Functions with pmartR • pmartR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using Trelliscope Functions with pmartR">
<meta property="og:description" content="pmartR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pmartR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.4.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Convenience_Functions.html">Convenience Functions</a>
    </li>
    <li>
      <a href="../articles/Data_Normalization.html">Data Normalization</a>
    </li>
    <li>
      <a href="../articles/Data_Object_Creation.html">Data Object Creation</a>
    </li>
    <li>
      <a href="../articles/Filter_Functionality.html">Filter Functions</a>
    </li>
    <li>
      <a href="../articles/Graphing_with_pmartR.html">Graphing with pmartR</a>
    </li>
    <li>
      <a href="../articles/RNAseq_Processing_Workflow.html">RNAseq Data Processing</a>
    </li>
    <li>
      <a href="../articles/Statistical_Analysis_with_pmartR.html">Statistical Analysis with the `pmartR` Package</a>
    </li>
    <li>
      <a href="../articles/Trelliscope_Vignette.html">Using Trelliscope Functions with pmartR</a>
    </li>
    <li>
      <a href="../articles/Typical_Processing_Workflow.html">Typical Processing Workflow</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pmartR/pmartR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><link href="Trelliscope_Vignette_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="Trelliscope_Vignette_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="Trelliscope_Vignette_files/plotly-binding-4.10.4/plotly.js"></script><script src="Trelliscope_Vignette_files/typedarray-0.1/typedarray.min.js"></script><link href="Trelliscope_Vignette_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="Trelliscope_Vignette_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><link href="Trelliscope_Vignette_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Trelliscope_Vignette_files/plotly-main-2.11.1/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using Trelliscope Functions with pmartR</h1>
                        <h4 data-toc-skip class="author">David Degnan,
Kelly Stratton, Lisa Bramer</h4>
            
            <h4 data-toc-skip class="date">2024-05-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pmartR/pmartR/blob/HEAD/vignettes/Trelliscope_Vignette.Rmd" class="external-link"><code>vignettes/Trelliscope_Vignette.Rmd</code></a></small>
      <div class="hidden name"><code>Trelliscope_Vignette.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>A challenge of ’omics data is seeing trends on the biomolecule,
sample, and biomolecule class (i.e. peptide fragments from a protein)
level due to the large number of individual plots to visualize.
Trelliscope is an HTML tool which allows users to search, sort, and
filter plots based on <strong>cognostics</strong>, which include single
data descriptors of the data like the mean, standard deviation, p-value,
etc.</p>
<p>The general workflow for the trelliscope builder functions in pmartR
are as follows:</p>
<ol style="list-style-type: decimal">
<li>build the trelliscope data object with an e_data file, omicsData
object, statRes object, or both an omicsData and statRes object.
(<code>as.trelliData.edata</code> or <code>as.trelliData</code>)</li>
</ol>
<p>Note: The e_data file is an unprocessed expression matrix. The
omicData object is a pepData, proData, lipidData, etc., object that has
completed normalization if required. The statRes object contains the
statistics results following an imd-ANOVA.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>select the variable to panel the data by
(<code>trelli_panel_by</code>)</p></li>
<li><p>and finally, pass to the corresponding trelliscope building
functions</p></li>
</ol>
<p>Currently, abundance, missingness, and fold change plots are
supported, and can be summarized as follows:</p>
<pre><code><span><span class="co">##    Input Data Plot Type Uses e_data Uses omicsData Uses statRes</span></span>
<span><span class="co">## 1   Abundance   Boxplot           X              X             </span></span>
<span><span class="co">## 2   Abundance Histogram           X              X             </span></span>
<span><span class="co">## 3   Abundance   Heatmap                          X             </span></span>
<span><span class="co">## 4 Missingness   Barplot           X              X            X</span></span>
<span><span class="co">## 5 Fold Change   Barplot                                       X</span></span>
<span><span class="co">## 6 Fold Change   Boxplot                                       X</span></span>
<span><span class="co">## 7 Fold Change   Volcano                                       X</span></span>
<span><span class="co">## 8 Fold Change   Heatmap                                       X</span></span>
<span><span class="co">##   Requires Biomolecule Class (e_meta) Main Effects Used</span></span>
<span><span class="co">## 1                                                     X</span></span>
<span><span class="co">## 2                                                      </span></span>
<span><span class="co">## 3                                   X                 X</span></span>
<span><span class="co">## 4                                                     X</span></span>
<span><span class="co">## 5                                                     X</span></span>
<span><span class="co">## 6                                   X                 X</span></span>
<span><span class="co">## 7                                   X                  </span></span>
<span><span class="co">## 8                                   X</span></span></code></pre>
<p>where “Input Data” is the type of data that will be plotted and “Plot
Type” describes what kind of plot would be generated in the trelliscope.
“Uses e_data” describes plots that can be made with just an e_data
object using the <code>as.trelliData.edata</code> function. Similarly,
“Uses omicsData” describes plots that can be made with an omicsData
object (pepData, proData, lipidData, nmrData, etc.) in the
<code>as.trelliData</code> function. “Uses statRes” describes plots that
can be built with a statRes object in <code>as.trelliData</code>;
however, most of these plots “Require e_meta” from omicsData to
determine trelliscope panels. The last column, “Main Effects used”
describes any plot where the “main_effects” parameter in
<code><a href="../reference/group_designation.html">pmartR::group_designation</a></code> plot was set.</p>
</div>
<div class="section level2">
<h2 id="plot-summary">Plot Summary<a class="anchor" aria-label="anchor" href="#plot-summary"></a>
</h2>
<p><img src="TrelliData_Plotting_Options.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="example-case-1-e_data-only">Example Case 1: e_data Only<a class="anchor" aria-label="anchor" href="#example-case-1-e_data-only"></a>
</h2>
<p>Let’s start with the simplest input data to run these trelliscope
functions, e_data. For context, a typical e_data file looks like
this:</p>
<pre><code><span><span class="co">##                     Peptide Sample_20_Phenotype3_A Sample_33_Phenotype3_A</span></span>
<span><span class="co">## 1          AAAAAAAAAAGAAGGR                     NA                     NA</span></span>
<span><span class="co">## 2               AAAAAAALQAK                     NA                     NA</span></span>
<span><span class="co">## 3 AAAAAEQQQFYLLLGNLLSPDNVVR                     NA               27154000</span></span>
<span><span class="co">## 4              AAAAAGTATSQR               36119000               39205000</span></span>
<span><span class="co">## 5               AAAAELSLLEK                     NA                     NA</span></span>
<span><span class="co">## 6  AAAAVGAGHGAGGPGAASSSGGAR               12026000                6319800</span></span>
<span><span class="co">##   Sample_49_Phenotype3_A Sample_47_Phenotype3_A Sample_50_Phenotype3_B</span></span>
<span><span class="co">## 1                     NA                     NA                     NA</span></span>
<span><span class="co">## 2                     NA                     NA                     NA</span></span>
<span><span class="co">## 3               19001000                     NA                     NA</span></span>
<span><span class="co">## 4               43322000               40862000               31594000</span></span>
<span><span class="co">## 5                     NA                     NA                     NA</span></span>
<span><span class="co">## 6               26133000               27810000                     NA</span></span></code></pre>
<p>where each of the rows are biomolecules and each of the columns are
samples. Within each e_data file, there must be one identifier column
referred to as the “edata_cname.” The rest of the columns contain
samples. With the exception of isobaric peptide data and nmr data, all
data types must be log transformed and normalized. After setting the
e_data and edata_cname parameters in the
<code>as.trelliData.edata</code> function, the next step is to set the
omics_type which are all currently supported pmartR omics types. Set a
transformation by first reporting the original data scale in the
data_scale_original and the desired scale in data_scale. “log2”,
“log10”, “log”, and “abundance” (no transformation) are currently
supported.</p>
<p>To understand the array of normalization functions and parameters,
see <code><a href="../reference/normalize_global.html">?normalize_global</a></code>, <code><a href="../reference/normalize_loess.html">?normalize_loess</a></code> and
<code><a href="../reference/normalize_quantile.html">?normalize_quantile</a></code>. Below, we have an example of valid log
transformation and normalization parameters.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.trelliData.edata.html">as.trelliData.edata</a></span><span class="op">(</span></span>
<span>  e_data <span class="op">=</span> <span class="fu">pmartRdata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pmartRdata/man/pep_edata.html" class="external-link">pep_edata</a></span>,</span>
<span>  edata_cname <span class="op">=</span> <span class="st">"Peptide"</span>,</span>
<span>  omics_type <span class="op">=</span> <span class="st">"pepData"</span>,</span>
<span>  data_scale_original <span class="op">=</span> <span class="st">"abundance"</span>,</span>
<span>  data_scale <span class="op">=</span> <span class="st">"log2"</span>,</span>
<span>  normalization_fun <span class="op">=</span> <span class="st">"global"</span>,</span>
<span>  normalization_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    subset_fn <span class="op">=</span> <span class="st">"all"</span>, norm_fn <span class="op">=</span> <span class="st">"median"</span>, apply_norm <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    backtransform <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>After creating a trelliData object, the next step is to determine
which variable to panel the data by. The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">?summary</a></code> function
provides a quick overview of potential plots that can be made.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">trelliData1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    Panel By Choice                Plot Number of Plots</span></span>
<span><span class="co">##             &lt;char&gt;              &lt;char&gt;          &lt;char&gt;</span></span>
<span><span class="co">## 1:         Peptide   abundance boxplot           21329</span></span>
<span><span class="co">## 2:         Peptide abundance histogram           21329</span></span>
<span><span class="co">## 3:         Peptide     missingness bar           21329</span></span>
<span><span class="co">## 4:          Sample   abundance boxplot              24</span></span>
<span><span class="co">## 5:          Sample     missingness bar              24</span></span></code></pre>
<p>With only an e_data file, there are only two potential options for
panel by variables, which include the edata_cname (in this case,
Peptide), and a “Sample” category which is comprised of the name of
every column besides edata_cname. The plot, which corresponds to the
table in the introduction, can be further investigated with adding
trelli and underscores to the name. For example, the “abundance boxplot”
details be viewed with <code><a href="../reference/trelli_abundance_boxplot.html">?trelli_abundance_boxplot</a></code>. The last
column tells you the number of plots that can be made with that
trelliscope function. Note that trelliscopes of more than 1,000 plots
can take several minutes to be made.</p>
<p>To set the panels for the trelliscope, use the
<code><a href="../reference/trelli_panel_by.html">?trelli_panel_by</a></code> function. We only have two options in this
case, so a summary for plots where each panel is the biomolecule
(edata_cname = “Peptide”) looks like this:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">trelliData1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Peptide"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">##    Panel By Choice                Plot Number of Plots</span></span>
<span><span class="co">##             &lt;char&gt;              &lt;char&gt;           &lt;num&gt;</span></span>
<span><span class="co">## 1:         Peptide   abundance boxplot           21329</span></span>
<span><span class="co">## 2:         Peptide abundance histogram           21329</span></span>
<span><span class="co">## 3:         Peptide     missingness bar           21329</span></span></code></pre>
<p>which is the above table subsetted down to the only options available
to plot right now. The typical trelliscope parameters look like
this:</p>
<pre><code><span><span class="co">##   Parameter Name</span></span>
<span><span class="co">## 1     cognostics</span></span>
<span><span class="co">## 2  ggplot_params</span></span>
<span><span class="co">## 3    interactive</span></span>
<span><span class="co">## 4           path</span></span>
<span><span class="co">## 5           name</span></span>
<span><span class="co">## 6      test_mode</span></span>
<span><span class="co">## 7   test_example</span></span>
<span><span class="co">## 8    single_plot</span></span>
<span><span class="co">##                                                                     Description</span></span>
<span><span class="co">## 1 Set the specific cognostics of the trelliscope. Varies per plotting function.</span></span>
<span><span class="co">## 2                  Pass parameters to the ggplot functions as a list of strings</span></span>
<span><span class="co">## 3                           Indicate whether plots should be interactive or not</span></span>
<span><span class="co">## 4                           The path where the trelliscope will be outputted to</span></span>
<span><span class="co">## 5                                               Name of the trelliscope display</span></span>
<span><span class="co">## 6   Indicate whether the trelliscope should be subsetted to a few panels or not</span></span>
<span><span class="co">## 7                  The panels to subset the trelliscope to if test_mode is true</span></span>
<span><span class="co">## 8                         Output a single plot instead of a trelliscope display</span></span></code></pre>
<p>See an example of how to use one of these functions below, with
test_mode enabled.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="va">trelliData1</span>, <span class="st">"Peptide"</span><span class="op">)</span>,</span>
<span>  cognostics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"mean abundance"</span>, <span class="st">"cv abundance"</span><span class="op">)</span>,</span>
<span>  include_points <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Trelliscope"</span>,</span>
<span>  test_mode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  test_example <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Also, see “How Do I Change ggplot Parameters?” below to understand
how to change axis and title labels, sizes, and angles, as well as
change plot colors, etc. All plotting commands follow the ggplot2
library of functions. To see what each trelliscope looks like, start by
investigating the default plot option with single_plot = TRUE and
selecting a specific plot with test_example.</p>
<p><strong>Abundance Boxplot</strong></p>
<p>Let’s first create two panel_by trelliscope objects, one by “Lipid”,
and the other by “Sample”. If we were to plot the first sample’s boxplot
abundance with include_points = TRUE, we would get too many points to
view. Thus, set include_points to FALSE. Since we’ve set “single_plot”
to TRUE, we get an example of one of the many plots that will be made
and passed to trelliscope. We can change which plot we’re looking at
with “test_example”. On the left, we have a “Peptide” example and on the
right, a “Sample” example, with the color changed to avoid
confusion.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Panel by Mass Tag ID  </span></span>
<span><span class="va">PeptideGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="va">trelliData1</span>, <span class="st">"Peptide"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Panel by Sample</span></span>
<span><span class="va">SampleGroups</span> <span class="op">&lt;-</span> <span class="va">trelliData1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Sample"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Create an example boxplot </span></span>
<span><span class="va">Abun_Box_Edata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span><span class="va">PeptideGroups</span>, single_plot <span class="op">=</span> <span class="cn">TRUE</span>, test_example <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make an abundance boxplot without the points </span></span>
<span><span class="va">Abun_Box_Sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span><span class="va">SampleGroups</span>, include_points <span class="op">=</span> <span class="cn">F</span>, single_plot <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                                            ggplot_params <span class="op">=</span> <span class="st">"scale_fill_manual(values = 'forestgreen')"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use patchwork to put plots together</span></span>
<span><span class="va">Abun_Box_Edata</span> <span class="op">+</span> <span class="va">Abun_Box_Sample</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p><strong>Abundance Histogram</strong></p>
<p>The abundance histogram is only supported for data that has been
paneled by edata_cname.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/trelli_abundance_histogram.html">trelli_abundance_histogram</a></span><span class="op">(</span><span class="va">PeptideGroups</span>, single_plot <span class="op">=</span> <span class="cn">TRUE</span>, test_example <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p><strong>Missingness Barplot</strong></p>
<p>We can also build a missingness bar plots. If we would rather see
count information in the bar plot instead of proportions, we can easily
set proportion to FALSE.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an example bar plot </span></span>
<span><span class="va">Miss_Bar_Edata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trelli_missingness_bar.html">trelli_missingness_bar</a></span><span class="op">(</span><span class="va">PeptideGroups</span>,</span>
<span>                                         single_plot <span class="op">=</span> <span class="cn">TRUE</span>, test_example <span class="op">=</span> <span class="fl">3</span>,</span>
<span>                                         ggplot_params <span class="op">=</span> <span class="st">"ggtitle('Biomolecule')"</span><span class="op">)</span></span>
<span><span class="co"># Make a missingness barplot </span></span>
<span><span class="va">Miss_Bar_Sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trelli_missingness_bar.html">trelli_missingness_bar</a></span><span class="op">(</span><span class="va">SampleGroups</span>,</span>
<span>                                          include_points <span class="op">=</span> <span class="cn">F</span>, </span>
<span>                                          proportion <span class="op">=</span> <span class="cn">FALSE</span>, single_plot <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                                          ggplot_params <span class="op">=</span> <span class="st">"ggtitle('Sample')"</span><span class="op">)</span></span>
<span><span class="co"># Put plots together with patchwork</span></span>
<span><span class="va">Miss_Bar_Edata</span> <span class="op">+</span> <span class="va">Miss_Bar_Sample</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>These are all the currently supported plots for only e_data files.
There are more options for omicsData and statRes listed below.</p>
</div>
<div class="section level2">
<h2 id="example-case-2-omicsdata-only">Example Case 2: omicsData Only<a class="anchor" aria-label="anchor" href="#example-case-2-omicsdata-only"></a>
</h2>
<p>An omicsData object that is log transformed and normalized (with the
exception of isobaric and nmr data) can be passed to the
<code>as.trelliData</code> function which requires either an omicsData
or statRes object.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pull the example peptide object</span></span>
<span><span class="va">peptide</span> <span class="op">&lt;-</span> <span class="fu">pmartRdata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pmartRdata/man/pep_object.html" class="external-link">pep_object</a></span></span>
<span></span>
<span><span class="co"># Log transform the edata file </span></span>
<span><span class="va">peptide</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/edata_transform.html">edata_transform</a></span><span class="op">(</span>omicsData <span class="op">=</span> <span class="va">peptide</span>, data_scale <span class="op">=</span> <span class="st">"log2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the group designation main effects </span></span>
<span><span class="va">peptide</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_designation.html">group_designation</a></span><span class="op">(</span>omicsData <span class="op">=</span> <span class="va">peptide</span>, main_effects <span class="op">=</span> <span class="st">"Phenotype"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter the data to run the imd_anova</span></span>
<span><span class="va">imdanova_Filt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/imdanova_filter.html">imdanova_filter</a></span><span class="op">(</span>omicsData <span class="op">=</span> <span class="va">peptide</span><span class="op">)</span></span>
<span><span class="va">peptide</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/applyFilt.html">applyFilt</a></span><span class="op">(</span>filter_object <span class="op">=</span> <span class="va">imdanova_Filt</span>, omicsData <span class="op">=</span> <span class="va">peptide</span>, min_nonmiss_anova<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Normalize the data. You may use the Kruskal-Wallis test from normRes_tests to </span></span>
<span><span class="co"># confirm that your normalization choice does not induce nor remove significance. </span></span>
<span><span class="va">peptide</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/normalize_global.html">normalize_global</a></span><span class="op">(</span><span class="va">peptide</span>, subset_fn <span class="op">=</span> <span class="st">"rip"</span>, norm_fn <span class="op">=</span> <span class="st">"median"</span>, </span>
<span>                             apply_norm <span class="op">=</span> <span class="cn">TRUE</span>, backtransform <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create trelliData object</span></span>
<span><span class="va">trelliData2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.trelliData.html">as.trelliData</a></span><span class="op">(</span>omicsData <span class="op">=</span> <span class="va">peptide</span><span class="op">)</span></span></code></pre></div>
<p>If we summarize the plot options with <code>summary</code>, we
get:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">trelliData2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##              Panel By Choice                Plot Number of Plots</span></span>
<span><span class="co">##                       &lt;char&gt;              &lt;char&gt;          &lt;char&gt;</span></span>
<span><span class="co">## 1:                   Peptide   abundance boxplot           17200</span></span>
<span><span class="co">## 2:                   Peptide abundance histogram           17200</span></span>
<span><span class="co">## 3:                   Peptide     missingness bar           17200</span></span>
<span><span class="co">## 4:                  SampleID   abundance boxplot              24</span></span>
<span><span class="co">## 5:                  SampleID     missingness bar              24</span></span>
<span><span class="co">## 6: ProteinList, RazorProtein   abundance boxplot      3230, 2650</span></span>
<span><span class="co">## 7: ProteinList, RazorProtein   abundance heatmap      3230, 2650</span></span>
<span><span class="co">## 8: ProteinList, RazorProtein     missingness bar      3230, 2650</span></span></code></pre>
<p>Since we included an e_meta object that has categorical data for
e_data, there are a lot more plotting options available then what was
provided for the e_data file. Additionally, we have provided grouping
information with the “group_designation” function which will be
incorporated into some of the plotting functions. Since we’ve already
covered the trelliscope building functions, we will focus these next few
sections on how each e_meta and group_designation affect each plot.</p>
<p><strong>Abundance Boxplot</strong></p>
<p>The group_designation variables are utilized in the abundance boxplot
when paneling by edata_cname (“Peptide”)…</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Peptide"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span>test_example <span class="op">=</span> <span class="fl">3</span>, single_plot <span class="op">=</span> <span class="cn">T</span>, ggplot_params <span class="op">=</span> <span class="st">"xlab('Phenotype')"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>…or by an e_meta variable. In this case, our options include
RazorProtein and ProteinList. Note that group_designation is used if
included:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"RazorProtein"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span>test_example <span class="op">=</span> <span class="fl">3</span>, single_plot <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p>If we panel by the sample, the plot remains the same as in example
case 1.</p>
<p><strong>Abundance Histogram</strong></p>
<p>Since group_designation is not used in the histogram trelliscope
plotting function, it remains the same as in Example Case 1.</p>
<p><strong>Missingness Bar</strong></p>
<p>Once again, group_designation data is used if included, even if the
panel_by variable is an e_meta variable.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Peptide"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_missingness_bar.html">trelli_missingness_bar</a></span><span class="op">(</span>test_example <span class="op">=</span> <span class="fl">3</span>, single_plot <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<p><strong>Abundance Heatmap</strong></p>
<p>An advantage to including e_meta variables is the ability to use
heatmaps, where each panel is an e_meta variable, one axis is the
biomolecules within that biomolecule class, and the other axis is the
samples in order by the “group_by” designation.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"RazorProtein"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_abundance_heatmap.html">trelli_abundance_heatmap</a></span><span class="op">(</span>test_example <span class="op">=</span> <span class="fl">2</span>, single_plot <span class="op">=</span> <span class="cn">T</span>, ggplot_params <span class="op">=</span> <span class="st">"coord_flip()"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="example-case-3-statres-only">Example Case 3: statRes Only<a class="anchor" aria-label="anchor" href="#example-case-3-statres-only"></a>
</h2>
<p>Including statRes data allows for trelliscope plots that accept
fold_change values. To get a statRes object, pass your transformed,
filtered, and normalized data to the <code><a href="../reference/imd_anova.html">?imd_anova</a></code>
function.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run an imd-anova</span></span>
<span><span class="va">pepStats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/imd_anova.html">imd_anova</a></span><span class="op">(</span><span class="va">peptide</span>, test_method <span class="op">=</span> <span class="st">"anova"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pass that dataframe to the trelliData object builder</span></span>
<span><span class="va">trelliData3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.trelliData.html">as.trelliData</a></span><span class="op">(</span>statRes <span class="op">=</span> <span class="va">pepStats</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run the summary function</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">trelliData3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    Panel By Choice            Plot Number of Plots</span></span>
<span><span class="co">##             &lt;char&gt;          &lt;char&gt;          &lt;char&gt;</span></span>
<span><span class="co">## 1:         Peptide missingness bar           17200</span></span>
<span><span class="co">## 2:         Peptide fold change bar           17200</span></span></code></pre>
<p>There are only two trelliscope plotting options for statRes objects
by themselves. The missingness plot, which we have seen above, and a
fold change bar plot. Fold change plots have an additional parameters:
p_value_thresh, which allows users to set a significance threshold.</p>
<p><strong>Foldchange Bar</strong></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Peptide"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_foldchange_bar.html">trelli_foldchange_bar</a></span><span class="op">(</span>p_value_thresh <span class="op">=</span> <span class="fl">0.05</span>, </span>
<span>                        test_example <span class="op">=</span> <span class="fl">10</span>, single_plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p>To see more fold change plot options, include an e_meta dataframe in
the trelliData object.</p>
</div>
<div class="section level2">
<h2 id="example-case-4-omicsdata-and-statres">Example Case 4: omicsData and statRes<a class="anchor" aria-label="anchor" href="#example-case-4-omicsdata-and-statres"></a>
</h2>
<p>Including both omicsData and statRes objects allows users the ability
to run all available plotting functions. Below, we will focus on the
last fold change plots that we have yet to see.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build a trelliData object with both omicsData and statRes</span></span>
<span><span class="va">trelliData4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as.trelliData.html">as.trelliData</a></span><span class="op">(</span>omicsData <span class="op">=</span> <span class="va">peptide</span>, statRes <span class="op">=</span> <span class="va">pepStats</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">trelliData4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Panel By Choice                Plot Number of Plots</span></span>
<span><span class="co">##                        &lt;char&gt;              &lt;char&gt;          &lt;char&gt;</span></span>
<span><span class="co">##  1:                   Peptide   abundance boxplot           17200</span></span>
<span><span class="co">##  2:                   Peptide abundance histogram           17200</span></span>
<span><span class="co">##  3:                   Peptide     missingness bar           17200</span></span>
<span><span class="co">##  4:                   Peptide     fold change bar           17200</span></span>
<span><span class="co">##  5:                  SampleID   abundance boxplot              24</span></span>
<span><span class="co">##  6:                  SampleID     missingness bar              24</span></span>
<span><span class="co">##  7: ProteinList, RazorProtein   abundance boxplot      3230, 2650</span></span>
<span><span class="co">##  8: ProteinList, RazorProtein   abundance heatmap      3230, 2650</span></span>
<span><span class="co">##  9: ProteinList, RazorProtein     missingness bar      3230, 2650</span></span>
<span><span class="co">## 10: ProteinList, RazorProtein fold change boxplot      3230, 2650</span></span>
<span><span class="co">## 11: ProteinList, RazorProtein fold change heatmap      3230, 2650</span></span>
<span><span class="co">## 12: ProteinList, RazorProtein fold change volcano      3230, 2650</span></span></code></pre>
<p><strong>Fold Change Boxplot</strong></p>
<p>To create a fold change boxplot, the input data must be paneled by an
e_meta variable.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData4</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"RazorProtein"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_foldchange_boxplot.html">trelli_foldchange_boxplot</a></span><span class="op">(</span></span>
<span>    single_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    test_example <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
<p><strong>Fold Change Heatmap</strong></p>
<p>These heatmaps shows fold change values per biomolecule (y-axis) and
statistical comparison (x-axis).</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData4</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"RazorProtein"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_foldchange_heatmap.html">trelli_foldchange_heatmap</a></span><span class="op">(</span></span>
<span>    single_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    test_example <span class="op">=</span> <span class="fl">2</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<p><strong>Fold Change Volcano</strong></p>
<p>Volcano plots display the -log10 p-value versus the fold change
values. Significant values with a low fold change are colored blue, and
high ones are colored red. These plots require that a specific
comparison is selected.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData4</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"RazorProtein"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/trelli_foldchange_volcano.html">trelli_foldchange_volcano</a></span><span class="op">(</span></span>
<span>    comparison <span class="op">=</span> <span class="st">"Phenotype3_vs_Phenotype2"</span>,</span>
<span>    test_example <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    single_plot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-23-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="how-do-i">How Do I…<a class="anchor" aria-label="anchor" href="#how-do-i"></a>
</h2>
<div class="section level4">
<h4 id="change-ggplot-parameters">Change ggplot parameters<a class="anchor" aria-label="anchor" href="#change-ggplot-parameters"></a>
</h4>
<p>To make tweaks to the ggplot objects, pass the commands as strings in
a list. For example:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Peptide"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span>test_example <span class="op">=</span> <span class="fl">3</span>, single_plot <span class="op">=</span> <span class="cn">T</span>,</span>
<span>    ggplot_params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ggtitle('CYC Human')"</span>, </span>
<span>                      <span class="st">"ylab('Log Adjusted Abundance')"</span>,</span>
<span>                      <span class="st">"xlab('')"</span>, <span class="st">"theme_classic()"</span>, </span>
<span>                      <span class="st">"theme(plot.title = ggplot2::element_text(hjust = 0.5))"</span>,</span>
<span>                      <span class="st">"theme(legend.position = 'none')"</span><span class="op">)</span>                       </span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="Trelliscope_Vignette_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
<p>Below is the a list of common functions and what they do.</p>
<pre><code><span><span class="co">##                                                Function                Purpose</span></span>
<span><span class="co">## 1                                          xlab('Name')    Rename x-axis label</span></span>
<span><span class="co">## 2                                          ylab('Name')    Rename y-axis label</span></span>
<span><span class="co">## 3                                       ggtitle('Name')            Rename plot</span></span>
<span><span class="co">## 4                                          xlim(c(0,1))  Set the x-axis limits</span></span>
<span><span class="co">## 5                                          ylim(c(0,1))  Set the y-axis limits</span></span>
<span><span class="co">## 6                                          coord_flip()     Flip x- and y-axis</span></span>
<span><span class="co">## 7  theme(axis.title.x = ggplot2::element_text(size=16))    Resize x-axis title</span></span>
<span><span class="co">## 8  theme(axis.title.y = ggplot2::element_text(size=16))    Resize y-axis title</span></span>
<span><span class="co">## 9            theme(axis.text.x = element_text(size=12))    Resize x-axis ticks</span></span>
<span><span class="co">## 10           theme(axis.text.y = element_text(size=12))    Resize y-axis ticks</span></span>
<span><span class="co">## 11          theme(axis.text.x = element_text(angle=90))    Rotate x-axis ticks</span></span>
<span><span class="co">## 12          theme(axis.text.y = element_text(angle=90))    Rotate y-axis ticks</span></span>
<span><span class="co">## 13            theme(plot.title = element_text(size=30)) Change plot title size</span></span></code></pre>
<p>For a list of other ggplot functions, <a href="https://ggplot2.tidyverse.org/reference/" class="external-link">click here</a></p>
</div>
<div class="section level4">
<h4 id="make-the-plot-interactive">Make the plot interactive<a class="anchor" aria-label="anchor" href="#make-the-plot-interactive"></a>
</h4>
<p>Every plot has an interactive option by making interactive=TRUE.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trelliData2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_panel_by.html">trelli_panel_by</a></span><span class="op">(</span><span class="st">"Peptide"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/trelli_abundance_boxplot.html">trelli_abundance_boxplot</a></span><span class="op">(</span>test_example <span class="op">=</span> <span class="fl">3</span>, single_plot <span class="op">=</span> <span class="cn">T</span>, interactive <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"data":[{"x":[1,1,1,1,1,1,1,1],"y":[null,24.870012593591181,24.827663517242094,25.207455155549624,null,24.46058936058478,24.825179351228989,25.403273437763847],"hoverinfo":"y","type":"box","fillcolor":"rgba(248,118,109,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Phenotype1","legendgroup":"Phenotype1","showlegend":true,"xaxis":"x","yaxis":"y","frame":null},{"x":[2,2,2,2,2,2,2,2],"y":[24.943633390278148,24.665423153079093,null,25.215116070685205,24.645256091051266,25.044196855856807,25.166764908811153,null],"hoverinfo":"y","type":"box","fillcolor":"rgba(0,186,56,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Phenotype2","legendgroup":"Phenotype2","showlegend":true,"xaxis":"x","yaxis":"y","frame":null},{"x":[3,3,3,3,3,3,3,3],"y":[null,24.431707257348823,24.658510292913185,null,null,24.99314282715947,25.086956859464738,null],"hoverinfo":"y","type":"box","fillcolor":"rgba(97,156,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(51,51,51,1)","width":1.8897637795275593},"name":"Phenotype3","legendgroup":"Phenotype3","showlegend":true,"xaxis":"x","yaxis":"y","frame":null},{"x":[1.1556888686027378,0.96677978115621954,0.96440323325805366,1.063690802664496,1.246351963840425,1.2335564697859809,0.91781084320973605,1.2304176780162379],"y":[null,24.870012593591181,24.827663517242094,25.207455155549624,null,24.46058936058478,24.825179351228989,25.403273437763847],"text":["Group: Phenotype1<br />Abundance:       NA<br />Group: Phenotype1","Group: Phenotype1<br />Abundance: 24.87001<br />Group: Phenotype1","Group: Phenotype1<br />Abundance: 24.82766<br />Group: Phenotype1","Group: Phenotype1<br />Abundance: 25.20746<br />Group: Phenotype1","Group: Phenotype1<br />Abundance:       NA<br />Group: Phenotype1","Group: Phenotype1<br />Abundance: 24.46059<br />Group: Phenotype1","Group: Phenotype1<br />Abundance: 24.82518<br />Group: Phenotype1","Group: Phenotype1<br />Abundance: 25.40327<br />Group: Phenotype1"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Phenotype1","legendgroup":"Phenotype1","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.1654115930432454,2.2282361892284825,1.8004815720487386,1.765390318701975,2.1747537872288376,1.8109344568802044,2.2457362412242219,2.0738676210166886],"y":[24.943633390278148,24.665423153079093,null,25.215116070685205,24.645256091051266,25.044196855856807,25.166764908811153,null],"text":["Group: Phenotype2<br />Abundance: 24.94363<br />Group: Phenotype2","Group: Phenotype2<br />Abundance: 24.66542<br />Group: Phenotype2","Group: Phenotype2<br />Abundance:       NA<br />Group: Phenotype2","Group: Phenotype2<br />Abundance: 25.21512<br />Group: Phenotype2","Group: Phenotype2<br />Abundance: 24.64526<br />Group: Phenotype2","Group: Phenotype2<br />Abundance: 25.04420<br />Group: Phenotype2","Group: Phenotype2<br />Abundance: 25.16676<br />Group: Phenotype2","Group: Phenotype2<br />Abundance:       NA<br />Group: Phenotype2"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Phenotype2","legendgroup":"Phenotype2","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3.1894810163648799,3.0484281009994447,3.0498281142208725,3.1262662700610235,3.1940340144792572,3.0999406082555652,2.8937012874521315,3.1806422236841172],"y":[null,24.431707257348823,24.658510292913185,null,null,24.99314282715947,25.086956859464738,null],"text":["Group: Phenotype3<br />Abundance:       NA<br />Group: Phenotype3","Group: Phenotype3<br />Abundance: 24.43171<br />Group: Phenotype3","Group: Phenotype3<br />Abundance: 24.65851<br />Group: Phenotype3","Group: Phenotype3<br />Abundance:       NA<br />Group: Phenotype3","Group: Phenotype3<br />Abundance:       NA<br />Group: Phenotype3","Group: Phenotype3<br />Abundance: 24.99314<br />Group: Phenotype3","Group: Phenotype3<br />Abundance: 25.08696<br />Group: Phenotype3","Group: Phenotype3<br />Abundance:       NA<br />Group: Phenotype3"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Phenotype3","legendgroup":"Phenotype3","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.358882994166862,"r":7.3059360730593621,"b":41.778974318367787,"l":48.949771689497723},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"AAAAAEQQQFYLLLGNLLSPDNVVR","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["Phenotype1","Phenotype2","Phenotype3"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Phenotype1","Phenotype2","Phenotype3"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Group","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[24.383128948328071,25.451851746784598],"tickmode":"array","ticktext":["24.4","24.6","24.8","25.0","25.2","25.4"],"tickvals":[24.400000000000002,24.600000000000001,24.800000000000001,25.000000000000004,25.200000000000003,25.400000000000002],"categoryorder":"array","categoryarray":["24.4","24.6","24.8","25.0","25.2","25.4"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"log2 Abundance","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"265038148c09":{"x":{},"y":{},"fill":{},"type":"box"},"2650679b3561":{"x":{},"y":{},"fill":{}}},"cur_data":"265038148c09","visdat":{"265038148c09":["function (y) ","x"],"2650679b3561":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level4">
<h4 id="change-cognostics">Change cognostics<a class="anchor" aria-label="anchor" href="#change-cognostics"></a>
</h4>
<p>Every trelliscope plotting function has default diagnostics that can
be changed or removed completely by setting cognostics to “NULL”. For
example, if you were using the “trelli_abundance_boxplot” and only
wanted a mean and median cognostic, you could set cognostics to
<code>c("mean abundance", "median abundance")</code>.</p>
<pre><code><span><span class="co">##                    Functions</span></span>
<span><span class="co">## 1   trelli_abundance_boxplot</span></span>
<span><span class="co">## 2 trelli_abundance_histogram</span></span>
<span><span class="co">## 3   trelli_abundance_heatmap</span></span>
<span><span class="co">## 4     trelli_missingness_bar</span></span>
<span><span class="co">## 5      trelli_foldchange_bar</span></span>
<span><span class="co">## 6  trelli_foldchange_boxplot</span></span>
<span><span class="co">## 7  trelli_foldchange_heatmap</span></span>
<span><span class="co">## 8  trelli_foldchange_volcano</span></span>
<span><span class="co">##                                                                                          Cognostics</span></span>
<span><span class="co">## 1                 count, mean abundance, median abundance, cv abundance, anova p-value, fold change</span></span>
<span><span class="co">## 2                      sample count, mean abundance, median abundance, cv abundance, skew abundance</span></span>
<span><span class="co">## 3                                                   sample count, mean abundance, biomolecule count</span></span>
<span><span class="co">## 4                                  total count, observed count, observed proportion, g-test p-value</span></span>
<span><span class="co">## 5                                                                        fold change, anova p-value</span></span>
<span><span class="co">## 6                       biomolecule count, proportion significant, mean fold change, sd fold change</span></span>
<span><span class="co">## 7                       biomolecule count, proportion significant, mean fold change, sd fold change</span></span>
<span><span class="co">## 8 biomolecule count, proportion significant, proportion significant up, proportion significant down</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="other-faqs">Other FAQs<a class="anchor" aria-label="anchor" href="#other-faqs"></a>
</h2>
<div class="section level4">
<h4 id="when-is-log-transformation-and-normalization-required">When is log transformation and normalization required?<a class="anchor" aria-label="anchor" href="#when-is-log-transformation-and-normalization-required"></a>
</h4>
<p>For every e_data and omicsData object that is not isobaric proteomics
or NMR data, log transformation and normalization is required.</p>
</div>
<div class="section level4">
<h4 id="how-can-i-see-my-panel_by-options">How can I see my “panel_by” options?<a class="anchor" aria-label="anchor" href="#how-can-i-see-my-panel_by-options"></a>
</h4>
<p>“panel_by_options” are stored attributes in all trelliData
objects.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">trelliData4</span>, <span class="st">"panel_by_options"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Peptide"      "SampleID"     "ProteinList"  "RazorProtein"</span></span></code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Lisa Bramer, Kelly Stratton, Daniel Claborne.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
